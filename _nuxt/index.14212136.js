import{a as h}from"./CallModal.8f0be250.js";import{P as _}from"./ProductCard.1310f572.js";import{J as m}from"./bd.92ca05f3.js";import{_ as P,y,c as s,a as p,b as d,s as R,v as x,F as v,x as u,z as g,o as n,A as f,p as k,e as C}from"./entry.62fa651f.js";import"./nuxt-link.e8173034.js";const S={name:"catalog",components:{ProductCardVue:_},data(){return{products:m.products,productsSort:[],search:this.$route.query.param,filterOn:!1,notany:!1,visible:!1}},beforeMount(){this.sortBeforePageLoad()},methods:{sortBeforePageLoad(){this.search&&(this.productsSort=[],this.notany=!1,this.products.forEach(o=>{let a=!1;for(let i of Object.values(o))typeof i=="string"&&i.toLowerCase().includes(this.search.toLowerCase())?a=!0:Array.isArray(i)&&i.forEach(t=>{typeof t=="string"&&t.toLowerCase().includes(this.search.toLowerCase())&&(a=!0);for(let e of Object.values(t))e.toLowerCase().includes(this.search.toLowerCase())&&(a=!0)});a&&this.productsSort.push(o)}),this.productsSort.length===0&&(this.notany=!0),this.$route.query.param="")},getApply(){this.openFilter(),this.getFilter()},openFilter(){this.filterOn?this.filterOn=!1:this.filterOn=!0},reset(){const o=document.querySelectorAll("select");for(let a=0;a<o.length;a++)o[a].selectedIndex=0},getFilter(){const o=document.querySelectorAll("select");this.productsSort=[],this.notany=!1;const a={rd:"",type:"",idx_frame:"",tube:""};for(let t=0;t<o.length;t++){const e=o[t].options[o[t].selectedIndex].value;switch(t){case 0:o[t].selectedIndex!==0&&(a.rd=e);break;case 1:o[t].selectedIndex!==0&&(a.type=e);break;case 2:o[t].selectedIndex!==0&&(a.idx_frame=e);break;case 3:o[t].selectedIndex!==0&&(a.tube=e);break}}const i=Object.values(a).filter(t=>t!=="");i.length!==0&&(this.products.forEach(t=>{let e=Object.values(t);if(t.var&&t.var.forEach(c=>{const l=c.idx_frame.split(",");e=e.concat(l),e=e.concat(Object.values(c))}),t.idx_frame){const c=t.idx_frame.split(",");e=e.concat(c)}i.every(c=>e.includes(c))&&this.productsSort.push(t)}),this.productsSort.length===0&&(this.notany=!0))}}},L=o=>(k("data-v-c6bc9b34"),o=o(),C(),o),A={class:"catalog-wrap"},I={class:"catalg-filter content"},O={class:"filter-content"},w=g('<div class="selects" data-v-c6bc9b34><select aria-label="RADIAL-or-DIAGONAL" name="rd" id="rd" class="filter-item" data-v-c6bc9b34><option class="default-option" selected value="РАДИАЛЬНЫЕ/ДИАГОНАЛЬНЫЕ" data-v-c6bc9b34>РАДИАЛЬНЫЕ/ДИАГОНАЛЬНЫЕ</option><option value="РАДИАЛЬНЫЕ" data-v-c6bc9b34>РАДИАЛЬНЫЕ</option><option value="ДИАГОНАЛЬНЫЕ" data-v-c6bc9b34>ДИАГОНАЛЬНЫЕ</option></select><select aria-label="APPLICABILITY" name="type" id="type" class="filter-item" data-v-c6bc9b34><option class="default-option" selected value="ПРИМЕНИМОСТЬ" data-v-c6bc9b34>ПРИМЕНИМОСТЬ</option><option value="САМОСВАЛЫ С ЖЕСТКОЙ РАМОЙ" data-v-c6bc9b34>САМОСВАЛЫ С ЖЕСТКОЙ РАМОЙ</option><option value="ШАРНИРНО-СОЧЛЕНЕННЫЕ САМОСВАЛЫ" data-v-c6bc9b34>ШАРНИРНО-СОЧЛЕНЕННЫЕ САМОСВАЛЫ</option><option value="ПОГРУЗЧИКИ И БУЛЬДОЗЕРЫ" data-v-c6bc9b34>ПОГРУЗЧИКИ И БУЛЬДОЗЕРЫ</option><option value="ГРЕЙДЕРЫ" data-v-c6bc9b34>ГРЕЙДЕРЫ</option><option value="ПОДЗЕМНАЯ ТЕХНИКА" data-v-c6bc9b34>ПОДЗЕМНАЯ ТЕХНИКА</option><option value="МОБИЛЬНЫЕ КРАНЫ" data-v-c6bc9b34>МОБИЛЬНЫЕ КРАНЫ</option><option value="СКРЕПЕРЫ" data-v-c6bc9b34>СКРЕПЕРЫ</option><option value="СПЕЦИАЛЬНАЯ И ПОРТОВАЯ ТЕХНИКА" data-v-c6bc9b34>СПЕЦИАЛЬНАЯ И ПОРТОВАЯ ТЕХНИКА</option><option value="ТЕХНИКА ДЛЯ УСЛОВИЙ ПУСТЫНИ" data-v-c6bc9b34>ТЕХНИКА ДЛЯ УСЛОВИЙ ПУСТЫНИ</option><option value="ДОРОЖНЫЕ КАТКИ" data-v-c6bc9b34>ДОРОЖНЫЕ КАТКИ</option></select><select aria-label="frame-index" name="idx" id="idx_frame" class="filter-item" data-v-c6bc9b34><option class="default-option" selected value="ПРОЧНОСТЬ КАРКАСА" data-v-c6bc9b34>ПРОЧНОСТЬ КАРКАСА</option><option value="★★★" data-v-c6bc9b34>★★★</option><option value="★★★RF" data-v-c6bc9b34>★★★RF</option><option value="★★" data-v-c6bc9b34>★★</option><option value="★" data-v-c6bc9b34>★</option><option value="★★RF" data-v-c6bc9b34>★★RF</option><option value="12PR" data-v-c6bc9b34>12PR</option><option value="8" data-v-c6bc9b34></option><option value="10" data-v-c6bc9b34>10</option><option value="12" data-v-c6bc9b34>12</option><option value="16" data-v-c6bc9b34>16</option><option value="18" data-v-c6bc9b34>18</option><option value="20" data-v-c6bc9b34>20</option><option value="22" data-v-c6bc9b34>22</option><option value="28" data-v-c6bc9b34>28</option><option value="14PR" data-v-c6bc9b34>14PR</option><option value="16PR" data-v-c6bc9b34>16PR</option><option value="20PR" data-v-c6bc9b34>20PR</option><option value="24PR" data-v-c6bc9b34>24PR</option><option value="28PR" data-v-c6bc9b34>28PR</option><option value="32PR" data-v-c6bc9b34>32PR</option><option value="34PR" data-v-c6bc9b34>34PR</option><option value="58PR" data-v-c6bc9b34>58PR</option><option value="40PR" data-v-c6bc9b34>40PR</option><option value="36PR" data-v-c6bc9b34>36PR</option><option value="44PR" data-v-c6bc9b34>44PR</option></select><select aria-label="tube" name="tube" id="tube" class="filter-item" data-v-c6bc9b34><option class="default-option" selected value="КАМЕРА" data-v-c6bc9b34>КАМЕРА</option><option value="TT" data-v-c6bc9b34>TT</option><option value="TL" data-v-c6bc9b34>TL</option></select></div>',1),F={class:"filter-btns-group"},N={key:0,class:"product-cards content"},B={key:1,class:"product-cards content"},T=L(()=>p("p",null,"Ксожалению, не найдено товара, подходящего под указанные критерии.",-1)),j=[T],E={key:2,class:"product-cards content"};function q(o,a,i,t,e,c){const l=h,b=y("ProductCardVue");return n(),s("section",A,[p("div",I,[d(l,{text:"ФИЛЬТРАЦИЯ",class:"filter-btn",onClick:c.openFilter},null,8,["onClick"]),R(p("div",O,[w,p("div",F,[d(l,{text:"ПРИМЕНИТЬ",onClick:c.getApply},null,8,["onClick"]),d(l,{text:"СБРОСИТЬ ВСЕ",onClick:c.reset},null,8,["onClick"])])],512),[[x,e.filterOn]])]),e.productsSort.length===0&&!e.notany?(n(),s("div",N,[(n(!0),s(v,null,u(e.products,r=>(n(),f(b,{key:r,productName:r.name},null,8,["productName"]))),128))])):e.notany?(n(),s("div",B,j)):(n(),s("div",E,[(n(!0),s(v,null,u(e.productsSort,r=>(n(),f(b,{key:r,productName:r.name},null,8,["productName"]))),128))]))])}const M=P(S,[["render",q],["__scopeId","data-v-c6bc9b34"]]);export{M as default};
